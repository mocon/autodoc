/**
 * The page-header component, prefixed by <span class="gds-text--code">gds-page-header</span>, is the standard fixed-position header component.
 *
 * @section {String} section Organisms
 *
 * @parentComponent {String} parentComponent Page-Header
 *
 * @name {String} name Page-Header
 *
 * @example {Code}
 *
 * <header class="gds-page-header">
 * ---]<div class="gds-page-header__product-bar">
 * ---]---]<h6 class="gds-page-header__product-name gds-page-header__product-name--expanded">GumGum Design System</h6>
 * ---]---]<img class="gds-page-header__logo gds-page-header__logo--expanded" src="https://ds.gumgum.com/images/svg/logo-white.svg">
 * ---]</div>
 * ---]<div class="gds-page-header__nav-bar">
 * ---]---]<div class="gds-page-header__primary-nav">
 * ---]---]---]<button class="gds-page-header__menu">
 * ---]---]---]---]<span class="gds-page-header__menu-line"></span>
 * ---]---]---]---]<span class="gds-page-header__menu-line"></span>
 * ---]---]---]---]<span class="gds-page-header__menu-line"></span>
 * ---]---]---]---]<span class="gds-page-header__menu-line"></span>
 * ---]---]---]</button>
 * ---]---]---]<h4 class="gds-page-header__page-name">Page Name</h4>
 * ---]---]</div>
 * ---]---]<div class="gds-page-header__breadcrumb-nav">
 * ---]---]---]<ol class="gds-page-header__breadcrumbs">
 * ---]---]---]---]<li class="gds-page-header__breadcrumbs-list-item gds-page-header__breadcrumbs-list-item--active"><a class="gds-page-header__breadcrumbs-link">These</a></li>
 * ---]---]---]---]<li class="gds-page-header__breadcrumbs-list-item gds-page-header__breadcrumbs-list-item--active"><a class="gds-page-header__breadcrumbs-link">Are</a></li>
 * ---]---]---]---]<li class="gds-page-header__breadcrumbs-list-item"><a class="gds-page-header__breadcrumbs-link">Breadcrumbs</a></li>
 * ---]---]---]</ol>
 * ---]---]</div>
 * ---]---]<div class="gds-page-header__secondary-nav">
 * ---]---]---]<div class="gds-avatar" gg-avatar="">
 * ---]---]---]---]<div class="gds-avatar__image">
 * ---]---]---]---]---]<img src="https://ds.gumgum.com/images/ken.png" height="100%" alt="Ken Weiner">
 * ---]---]---]---]</div>
 * ---]---]---]---]<div class="gds-avatar__menu">
 * ---]---]---]---]---]<ul class="gds-avatar__menu-list">
 * ---]---]---]---]---]---]<li class="gds-avatar__menu-list-item -ellipsis -p-h-3 -p-v-2">Ken Weiner</li>
 * ---]---]---]---]---]---]<li class="gds-avatar__menu-list-divider"></li>
 * ---]---]---]---]---]---]<li class="gds-avatar__menu-list-item -ellipsis"><a class="gds-avatar__menu-list-link" href="#">Profile</a></li>
 * ---]---]---]---]---]---]<li class="gds-avatar__menu-list-item -ellipsis"><a class="gds-avatar__menu-list-link" href="#">Settings</a></li>
 * ---]---]---]---]---]---]<li class="gds-avatar__menu-list-divider"></li>
 * ---]---]---]---]---]---]<li class="gds-avatar__menu-list-item -ellipsis"><a class="gds-avatar__menu-list-link" href="#">Logout</a></li>
 * ---]---]---]---]---]</ul>
 * ---]---]---]---]</div>
 * ---]---]---]</div>
 * ---]---]</div>
 * ---]---]<div class="-clear-both"></div>
 * ---]</div>
 * </header>
 *
 * @renderMarkup {Boolean} renderMarkup false
 *
 * @author {String} author Dan McKenna
 *
 * @tabTrigger {String} tabTrigger gds-page-header
 *
 * @optionalClasses {Array} optionalClasses
 */
.-has-page-header {
	padding-top:$unit*7 !important;
}

.gds-slide-out {
	.gds-page-header__logo {
		/*left:-$unit*25;*/
		transform:translateX(-25rem);
		@media #{$phone-width}, #{$phablet-width} {
			display: none;
		}
	}
	.gds-page-header {
		/*left:$unit*25;*/
		transform:translateX(25rem);
		@media #{$phablet-width} {
			/*left:$unit*20;*/
			transform:translateX(20rem);
		}
		@media #{$phone-width} {
			/*left:$unit*15;*/
			transform:translateX(15rem);

		}
	}
	.gds-page-header__nav-bar {
		color:$gg-blue;
	}

	.gds-slide-nav__user-name {
		@media #{$phone-width}, #{$phablet-width} {
			display: none;
		}
	}

	.gds-page-header__menu-line {
		transition-delay:250ms !important;
	}

	.gds-page-header__menu-line:nth-child(1) {
  	top: 7px;
  	width: 0%;
  	left: 50%;
	}
	.gds-page-header__menu-line:nth-child(2) {
		transform: rotate(45deg);
	}
	.gds-page-header__menu-line:nth-child(3) {
		transform: rotate(-45deg);
	}
	.gds-page-header__menu-line:nth-child(4) {
  	top: 7px;
  	width: 0%;
  	left: 50%;
	}

	.gds-page-header__page-name {
		transform:translateY(0) !important;
	}

	.gds-page-header__primary-nav:hover {
		.gds-page-header__menu-line:nth-child(1) {
			top: 7px;
			width: 0%;
			left: 50%;
		}
		.gds-page-header__menu-line:nth-child(2) {
			transform: rotate(45deg);
			left:0;
 		  top: 9px;
			width:100%;
		}
		.gds-page-header__menu-line:nth-child(3) {
			transform: rotate(-45deg);
			left:0;
  		top: 9px;
			width:100%;
		}
		.gds-page-header__menu-line:nth-child(4) {
			top: 7px;
			width: 0%;
			left: 50%;
		}
	}
}

.gds-page-header {
  position: fixed;
  top: 0;
  left: 0;
	transform:translateX(0);
  width: 100%;
  height:auto;
  color: white;
  padding: 0;
  z-index: $z-index-7;
	border-bottom:1px solid white;
  box-shadow:0 0 3px 1px rgba(0,0,0,.1);
  @include transition-ease-out(all,250ms);
	&:hover {
  	box-shadow:0 $unit/2 $unit rgba(0,0,0,.15);
		.gds-page-header__product-bar {
				box-shadow:0 1px 3px rgba(0,0,0,.5);
		}
	}
}


.gds-page-header__product-bar {
	position:relative;
	background-color:$gg-blue;
	width:100%;
	padding:$unit/2;
	box-shadow:0 1px 5px rgba(0,0,0,.35);
	/*box-shadow:0 1px 4px rgba(0,0,0,.15);*/
	z-index:$z-index-2;
	overflow: hidden;
	border-bottom:$cap-size solid $gg-blue-dark-2;

  @include transition-ease-out(all,250ms);
	height:41px;
}

.gds-page-header__product-bar--collapsed {
	height:$unit/3;
	padding:0 .5*$unit;

	.gds-page-header__product-name {
		opacity:0;
	}
	.gds-page-header__logo {
		opacity:0;
	}
	&:hover {
		height:41px;
		padding:$unit/2;
		.gds-page-header__product-name {
			opacity:1;
		}
		.gds-page-header__logo {
			opacity:1;
		}
	}
}



.gds-page-header__product-name {
	width: calc(100% - 107px);
	margin-bottom: 0;
	display: inline-block;
	float: left;
	font-size:$font-size-minus-2;
	@extend .-ellipsis;
}

.gds-page-header__nav-bar {
	position: relative;
	color: $gg-light-4;
	background-color: rgba(white,.9);
	width: 100%;
	z-index: $z-index-1;
	-webkit-backdrop-filter: blur(3px);
  backdrop-filter: blur(3px);

}

.gds-page-header__logo {
	position:relative;
	left:0;
	float:right;
	height:$unit*1.3;
	@include transition-ease-out(all,250ms);

}

.gds-page-header__primary-nav {
	float:left;
	display:inline-block;
	cursor:pointer;
	padding:.5*$unit;
	overflow:hidden;
	text-overflow:ellipsis;
	min-width:100px;
	// margin-right:$unit;
	// padding-right:$unit;
	@include transition-ease-out(all,250ms);

	&:after {
		content:'';
		left:0px;
		width:20%;
		height:100%;
		top:0;
		background-color:rgba(255,255,255,1);
		filter:blur(20px);
		position:absolute;
		z-index:-1;
	}
}

.gds-slide-out .gds-page-header__primary-nav:before {
	display: none;
}

.gds-page-header__primary-nav:hover {
	min-width: 162px;

	.gds-page-header__page-name {
		transform:translateY(120%);
	}
	.gds-page-header__menu-line {
		background-color:$gg-blue;
		transition-delay::0s;
	}
	.gds-page-header__menu-line:nth-child(1) {
		top: 3px;
    transform: rotate(-45deg);
    width: 50%;
	}

	.gds-page-header__menu-line:nth-child(2),
	.gds-page-header__menu-line:nth-child(3) {
		top: 9px;
    width: 75%;
    left: 2px;
	}

	.gds-page-header__menu-line:nth-child(4) {
		top: 15px;
    transform: rotate(45deg);
    width: 50%;
	}
}

// Hide breadcrumbs when gds-slide-nav menu is open
.gds-slide-out .gds-page-header__breadcrumb-nav {
	display: none;
}

.gds-page-header__breadcrumb-nav {
  float: left;
  padding: ($unit / 2);
  margin-left: ($unit / 2);
  padding-left: $unit;

	&:empty {
		&:before {
			background-color:transparent;
		}
	}

  @media #{$phone-width}, #{$phablet-width} {
		display: none;
	}

	&:before {
		content:'';
		height:$unit*1.5;
		width:1px;
		background-color:$gg-light-2;
		position:absolute;
		left: 0;
		padding-top:$unit/2;

		@media #{$phone-width}, #{$phablet-width} {
			display: none;
		}
	}
}

.gds-page-header__breadcrumbs {
	padding: 0;
    overflow: hidden;
    white-space: nowrap
}

.gds-page-header__breadcrumbs-list-item {
    position: relative;
    color: white;
    display: inline-block;
    box-sizing: border-box;
    pointer-events: none;
    font-size: inherit;
	font-size:$font-size-minus-1;
	@include transition-back(all,250ms);

}

.gds-page-header__breadcrumbs-list-item--active {
    pointer-events:all;
	cursor:pointer;

	&:nth-child(1) {
		z-index:9;
	}
	&:nth-child(2) {
		z-index:8;
	}
	&:nth-child(3) {
		z-index:7;
	}
	&:nth-child(4) {
		z-index:6;
	}

	.gds-page-header__breadcrumbs-link {
		color:$gg-blue-dark-2;
		position: relative;
		border-radius:$border-radius;
		&:before {
			/*
			display: inline-block;
			font-style: normal;
			top: $unit/2;
			right:$unit;
			margin-left:$unit/2;
			width: $unit/1.5;
			height: $unit/1.5;
			border-right: 1px solid $gg-blue-dark-2;
			border-top: 1px solid $gg-blue-dark-2;
			transform: rotate(44.5deg);

			*/
			content:'';
			position:absolute;
			width: 0;
			height: 0;
			top:9px;
			right:$unit/1.5;
			border-top: $unit/3 solid transparent;
			border-bottom: $unit/3 solid transparent;
			border-left: $unit/3 solid $gg-blue-dark-2;
			@include transition-ease-out(all,250ms);
		}
		/*
		&:before {
			transition-delay:100ms;
			opacity:0;

		}
		*/
		&:hover {
			color:$gg-blue-light-2 !important;
			font-weight:900;
			margin-right:$unit*2.25;

			&:after {
			}
			&:before {
				right:$unit/1.5;
				border-left-color:$gg-blue-light-2;
			}
		}
	}
}

.gds-page-header__breadcrumbs-link {
	color:$gg-light-4;
	height:100%;
	width:100%;
	display:block;
	margin-right:$unit*2;
	@include transition-ease-out(all,250ms);
	&:hover {
		text-decoration: none;
	}
}

// Animated hamburger menu & close x icon
.gds-page-header__menu {
  vertical-align:top;
  width: 32px;
  height: 25px;
  position: relative;
  margin-top: ($unit / 3);
  margin-right: ($unit / 2);
  transform: rotate(0deg);
  @include transition-ease-out(all,250ms);
  transition-delay:200ms;
  background-color: transparent;
	border: 0;
	outline: 0;
  cursor: pointer;
  &:focus {
		border:0;
		outline:0;
	}
}

.gds-page-header__menu-line {
  display: block;
  position: absolute;
  height: 1px;
  width: 100%;
  background: #acacac;
  opacity: 1;
  left: 0;
  transform: rotate(0deg);
  @include transition-ease-out(all,250ms);
}

.gds-page-header__menu-line:nth-child(1) {
  top: 2px;
}

.gds-page-header__menu-line:nth-child(2),
.gds-page-header__menu-line:nth-child(3) {
  top: 9px;
}

.gds-page-header__menu-line:nth-child(4) {
  top: 16px;
}


.gds-page-header__secondary-nav {
	float: right;
	height: ($unit * 2);
	transition: all 250ms cubic-bezier(0.165, 0.84, 0.44, 1);
	padding: ($unit * .5);
}

.gds-slide-out .gds-page-header__secondary-nav {
  transform: translateX(-25rem);

  @media #{$phone-width}, #{$phablet-width} {
		display: none;
	}
}

.gds-page-header__page-name {
	margin-bottom: 0;
	display: inline-block;
	vertical-align:top;
	font-size: 1.2*$unit;
 	line-height: 1.6;
	margin-left:$unit*.25;
	transform:translate0(0%);
  	@include transition-ease-out(all,250ms);
	&:after {
		content:'Main Menu';
		color:$gg-blue;
		position:absolute;
		left:0px;
		top:0px;
		width:120px;
		transform:translateY(-120%);
	}
}



/////THEMING
$color-map: (
	(
		$gg-theme-blue,
		$gg-blue,
		$gg-blue-dark-2,
		$gg-blue-light-2,
		$gg-gold,
		$gg-gold-dark-2,
		$gg-gold-light-2,
		$gg-purple,
		$gg-purple-dark-2,
		$gg-purple-light-2,
		$gg-green,
		$gg-green-dark-2,
		$gg-green-light-2,
		$gg-gold,
		$gg-gold-dark-2,
		$gg-gold-light-2,
		$gg-red,
		$gg-red-dark-2,
		$gg-red-light-2,
		$gg-purple,
		$gg-purple-dark-2,
		$gg-purple-light-2
	),
	(
		$gg-theme-gold,
		$gg-gold,
		$gg-gold-dark-2,
		$gg-gold-light-2,
		$gg-blue,
		$gg-blue-dark-2,
		$gg-blue-light-2,
		$gg-red,
		$gg-red-dark-2,
		$gg-red-light-2,
		$gg-green-dark-2,
		$gg-green-dark-4,
		$gg-green-light-3,
		$gg-gold-dark-2,
		$gg-gold-dark-4,
		$gg-gold-light-3,
		$gg-red-dark-2,
		$gg-red-dark-4,
		$gg-red-light-3,
		$gg-purple-dark-2,
		$gg-purple-dark-4,
		$gg-purple-light-3
	),
	(
		$gg-theme-red,
		$gg-red,
		$gg-red-dark-2,
		$gg-red-light-2,
		$gg-green,
		$gg-green-dark-2,
		$gg-green-light-2,
		$gg-blue,
		$gg-blue-dark-2,
		$gg-blue-light-2,
		$gg-green-dark-2,
		$gg-green-dark-4,
		$gg-green-light-3,
		$gg-gold-dark-2,
		$gg-gold-dark-4,
		$gg-gold-light-3,
		$gg-red-dark-2,
		$gg-red-dark-4,
		$gg-red-light-3,
		$gg-purple,
		$gg-purple-dark-2,
		$gg-purple-light-2
	),
	(
		$gg-theme-green,
		$gg-green,
		$gg-green-dark-2,
		$gg-green-light-2,
		$gg-red,
		$gg-red-dark-2,
		$gg-red-light-2,
		$gg-purple,
		$gg-purple-dark-2,
		$gg-purple-light-2,
		$gg-green,
		$gg-green-dark-2,
		$gg-green-light-2,
		$gg-gold,
		$gg-gold-dark-2,
		$gg-gold-light-2,
		$gg-red,
		$gg-red-dark-2,
		$gg-red-light-2,
		$gg-purple,
		$gg-purple-dark-2,
		$gg-purple-light-2
	),
	(
		$gg-theme-purple,
		$gg-purple,
		$gg-purple-dark-2,
		$gg-purple-light-2,
		$gg-red,
		$gg-red-dark-2,
		$gg-red-light-2,
		$gg-gold,
		$gg-gold-dark-2,
		$gg-gold-light-2,
		$gg-green,
		$gg-green-dark-2,
		$gg-green-light-2,
		$gg-gold,
		$gg-gold-dark-2,
		$gg-gold-light-2,
		$gg-red,
		$gg-red-dark-2,
		$gg-red-light-2,
		$gg-purple,
		$gg-purple-dark-2,
		$gg-purple-light-2
	),
	(
		$gg-theme-mantii,
		$gg-red,
		$gg-red-dark-2,
		$gg-red-light-2,
		$gg-green,
		$gg-red-dark-2,
		$gg-red-light-2,
		$gg-blue,
		$gg-blue-dark-2,
		$gg-blue-light-2,
		$gg-green-dark-2,
		$gg-green-dark-4,
		$gg-green-light-3,
		$gg-gold-dark-2,
		$gg-gold-dark-4,
		$gg-gold-light-3,
		$gg-red-dark-2,
		$gg-red-dark-4,
		$gg-red-light-3,
		$gg-purple-dark-2,
		$gg-purple-dark-4,
		$gg-purple-light-3
	)
);
@each $class, $primary-color, $primary-color-dark, $primary-color-light, $secondary-color, $secondary-color-dark, $secondary-color-light, $tertiary-color, $tertiary-color-dark, $tertiary-color-light, $success-color, $success-color-dark, $success-color-light, $warning-color, $warning-color-dark, $warning-color-light, $danger-color, $danger-color-dark, $danger-color-light, $info-color, $info-color-dark, $info-color-light in $color-map {
	.#{$class} {
		.gds-page-header {
			/*box-shadow: 0px $cap-size 0px 0px $primary-color-dark, 0 $unit/2 $unit rgba(0,0,0,.2);	*/
		}
		.gds-page-header__breadcrumbs-list-item--active {
			.gds-page-header__breadcrumbs-link {
				color:$primary-color-dark;
				&:before {
					border-left: $unit/3 solid $primary-color-dark;
				}
				&:hover {
					color:$primary-color-light !important;
					&:before {
						border-left-color:$primary-color-light;
					}
				}
			}
		}

		.gds-page-header__breadcrumbs-link {
			color:$gg-light-4;
		}

		.gds-page-header__product-bar {
			background-color:$primary-color;
		}
		&.gds-slide-out .gds-page-header__page-name {
			color:$primary-color;
		}
		.gds-page-header__primary-nav:hover .gds-page-header__menu-line,
    	&.gds-slide-out .gds-page-header__menu-line  {
		  background: $primary-color;
		}
		.gds-page-header__product-bar {
			border-bottom:$cap-size solid $primary-color-dark;
		}
		.gds-page-header__page-name::after {
			color:$primary-color;
		}

	}
}
